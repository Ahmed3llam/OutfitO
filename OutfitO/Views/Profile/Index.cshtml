@model OutfitO.Models.User
@{
    ViewData["Tiltle"] = "Profile";
    Layout = "_AdminLayout";
}
<div id="modal-placeholder"></div>
<div class="head bg-white p-15 between-flex">
    <div class="search p-relative">
        <input class="p-10" type="search" placeholder="Search" />
    </div>
    <div class="icons d-flex align-center">
        <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="color: black;">
                @Model.FirstName
            </a>
            <ul class="dropdown-menu">
                <li>
                    <a class="dropdown-item" asp-controller="Profile" asp-action="EditData" asp-route-id="@Model.Id" style="color: black;">
                        <i class="fa-solid fa-gear fa-fw"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" asp-action="Logout" asp-controller="User" asp-route-id="@Model.Id" style="color: black;">
                        <i class="fa-solid fa-sign-out-alt fa-fw"></i>
                        <span>Logout</span>
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="#" onclick="DeleteAccount('@Model.Id')" style="color: black;">
                        <i class="fa-solid fa-trash-alt fa-fw"></i>
                        <span>Delete Account</span>
                    </a>
                </li>
            </ul>
        </div>

        @{
            string imagePath = $"~/Images/{Model.ProfileImage}";
        }
        <img src="@Url.Content(imagePath)" alt="" style="border-radius:50%"/>
    </div>
</div>
<h1 class="p-relative">Profile</h1>
<div class="profile-page m-20">
    <div class="overview bg-white rad-10 d-flex align-center" style="height:60%">
        <div class="avatar-box txt-c p-20">
            <img class="rad-half mb-10" src="@Url.Content(imagePath)" alt="" />
            <h3 class="m-0">@Model.FirstName @Model.Lastname</h3>
        </div>
        <div class="info-box w-full txt-c-mobile">
            <div class="box p-20 d-flex align-center">
                <h4 class="c-grey fs-15 m-0 w-full">General Information</h4>
                <div class="fs-14">
                    <span class="c-grey">Full Name</span>
                    <span>@Model.FirstName @Model.Lastname</span>
                </div>
                <div class="fs-14">
                    <span class="c-grey">Gender:</span>
                    <span>@Model.Gender</span>
                </div>
                <div class="fs-14">
                    <span class="c-grey">Address:</span>
                    <span>@Model.Address</span>
                </div>
            </div>
            <div class="box p-20 d-flex align-center">
                <h4 class="c-grey w-full fs-15 m-0">Personal Information</h4>
                <div class="fs-14">
                    <span class="c-grey">Email:</span>
                    <span>@Model.Email</span>
                </div>
                <div class="fs-14" style="padding-left: 40px;">
                    <span class="c-grey">Phone:</span>
                    <span>@Model.PhoneNumber</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script>
        function DeleteAccount(id) {
            event.preventDefault();
            $.ajax({
                url: `/Profile/DeleteUser/${id}`,
                success: function (result) {
                    $("#modal-placeholder").html(result);
                    $('#DeleteModal').modal('show');
                }
            });
        }
</script>
